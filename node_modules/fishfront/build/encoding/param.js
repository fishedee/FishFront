'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

function _typeof(obj) { return obj && typeof Symbol !== "undefined" && obj.constructor === Symbol ? "symbol" : typeof obj; }

var param = {
	_emptyData: function _emptyData(data) {
		return data != 0 && data != '' && !data;
	},
	_buildSingleParam: function _buildSingleParam(prefix, data) {
		if (prefix == '' && data == '') {
			return '';
		} else if (prefix == '') {
			return data;
		} else {
			return encodeURIComponent(prefix) + '=' + encodeURIComponent(data);
		}
	},
	_buildParam: function _buildParam(prefix, data) {
		if (this._emptyData(data)) {
			return this._buildSingleParam(prefix, '');
		} else if (typeof data == 'number' || typeof data == 'string' || typeof data == 'boolean') {
			return this._buildSingleParam(prefix, data);
		} else {
			var result = [];
			for (var i in data) {
				var singleData = data[i];
				var single = '';
				if (prefix != '') {
					single += '[';
				}
				if (data.constructor != Array || singleData && (typeof singleData === 'undefined' ? 'undefined' : _typeof(singleData)) == 'object') {
					single += i;
				}
				if (prefix != '') {
					single += ']';
				}
				var singleResult = this._buildParam(prefix + single, data[i]);
				if (singleResult != '') {
					result.push(singleResult);
				}
			}
			return result.join('&');
		}
	},
	encode: function encode(data) {
		return this._buildParam('', data);
	}
};
exports.default = param;